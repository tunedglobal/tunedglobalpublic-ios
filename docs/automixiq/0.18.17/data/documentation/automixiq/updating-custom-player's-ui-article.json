{"variants":[{"paths":["\/documentation\/automixiq\/updating-custom-player's-ui-article"],"traits":[{"interfaceLanguage":"swift"}]},{"paths":["\/documentation\/automixiq\/updating-custom-player's-ui-article"],"traits":[{"interfaceLanguage":"occ"}]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"sections":[],"kind":"article","hierarchy":{"paths":[["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ"]]},"metadata":{"role":"article","title":"Updating your player UI","modules":[{"name":"AutomixIQ"}],"roleHeading":"Article"},"identifier":{"url":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/Updating-custom-player's-UI-article","interfaceLanguage":"swift"},"seeAlsoSections":[{"generated":true,"title":"Updating custom player’s UI","identifiers":["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQStatusObserverDelegate","doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQPlaybackEventType"],"anchor":"Updating-custom-players-UI"}],"abstract":[{"text":"How to create a UI to reflect the AutomixIQ player","type":"text"}],"primaryContentSections":[{"content":[{"level":2,"text":"Receiving status updates","type":"heading","anchor":"Receiving-status-updates"},{"type":"paragraph","inlineContent":[{"type":"text","text":"AutomixIQ reports its state via "},{"type":"reference","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQStatusObserverDelegate","isActive":true},{"type":"text","text":". This delegate reports the status via its statusChanged method every time the status changes. The function specifies the current status and the variables that were altered since the last time an update was issued. Use the status variables to update the content of your player UI."}]},{"code":["public class MyPlayer: NSObject, AutomixIQStatusObserverDelegate {","    \/\/ ...","","    var latestStatus: AutomixIQStatus? = nil","    public func statusChanged(variables: [NSNumber], status: AutomixIQStatus) {","        self.latestStatus = status","        let mirror = Mirror(reflecting: status)","        for propertyInt in variables {","            guard let property: AutomixIQStatusVariable = AutomixIQStatusVariable.init(rawValue: propertyInt.intValue) else {","                continue","            }","            \/\/ Update my UI here ->","            switch property {","                case .playing:","                    break","                case .mixing:","                    break","                case .playingTrackIdentifier:","                    break","                case .playingTrackIndex:","                    break","                case .playingTrackIndexInternal:","                    break","                case .playingTrackCurrentTime:","                    break","                case .playingTrackCurrentTimeInternal:","                    break","                case .playingTrackTotalTime:","                    break","                case .playingTrackStreamingProgress:","                    break","                case .canSkipToPrevious:","                    break","                case .canSkipToNext:","                    break","                case .canBack:","                    break","                case .canPlayPause:","                    break","                case .canSeek:","                    break","                case .canReorderTracks:","                    break","                case .replayOn:","                    break","                case .readyToPlay:","                    break","                case .canMixNow:","                    break","                case .playlist:","                    break","                case .muted:","                    break","                case .playSpeed:","                    break","                case .normalisedVolume:","                    break","                case .preferredTransitionDurationSeconds:","                    break","                case .requestedLoopTrackIdentifier:","                    break","                case .requestedPauseTrackIdentifier:","                    break","                case .vinylStartStop:","                    break","                case .nextTransitionDuration:","                    break","                case .transitionStartTimeSeconds:","                    break","                case .failedTrackLoadIdentifiers:","                    break","                case .canOnOff:","                    break","                case .playingTrackOriginalSessionId:","                    break","                case .explicitLyricsFiltering:","                    break","                case .mixId:","                    break","            }","        }","    }","","","    \/\/ ...","}"],"type":"codeListing","syntax":"swift"},{"level":2,"text":"Receiving playback events","type":"heading","anchor":"Receiving-playback-events"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When a playback event happens, AutomixIQ calls the status observer delegate method:"}]},{"code":["public class MyPlayer: NSObject, AutomixIQStatusObserverDelegate {","    \/\/ ...","","    public func playbackEvent(type: AutomixIQPlaybackEventType, identifier: String?, originalSessionId: String?, status: AutomixIQStatus?) {","        switch (type) {","            case .trackPlayStart:","                break;","            case .trackPlayPlayed5Secs:","                break;","            case .trackPlayHeartbeat30Secs:","                break;","            case .trackPlayStartMixingIntoNext:","                break;","            case .trackPlaySkipped:","                break;","            case .trackPlayFinished:","                break;","            case .mixPlaybackEnded:","                break;","        }","    }","    \/\/ ...","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"The type of playback event is modelled by the enum ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQPlaybackEventType","isActive":true}]},{"level":2,"text":"Accessing waveform data","type":"heading","anchor":"Accessing-waveform-data"},{"type":"paragraph","inlineContent":[{"text":"When waveform data for a track is available, AutomixIQ calls the observer delegate method:","type":"text"}]},{"code":["public class MyPlayer: NSObject, AutomixIQStatusObserverDelegate {","    \/\/ ...","","    public func waveformDataAvailable(identifier: String) {","        let waveformData = AutomixIQ.waveformDataForTrack(identifier: identifier, applyTransitions: false)","        guard let xValues = waveformData.xAxis","              let yValues = waveformData.yAxis else {","            return","        }","        \/\/\/ Render things on screen, etc.","    }","    \/\/ ...","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Please refer to "},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/Accessing-waveform-data-article"}]},{"level":2,"text":"The AutomixIQ status","type":"heading","anchor":"The-AutomixIQ-status"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The status of AutomixIQ is modelled by "},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQStatus"},{"type":"text","text":":"}]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQStatus"}]}],"kind":"content"}],"references":{"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixIQPlaybackEventType":{"url":"\/documentation\/automixiq\/automixiqplaybackeventtype","type":"topic","title":"AutomixIQPlaybackEventType","navigatorTitle":[{"kind":"identifier","text":"AutomixIQPlaybackEventType"}],"kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"AutomixIQPlaybackEventType"}],"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQPlaybackEventType","abstract":[{"text":"AutomixIQPlaybackEventType is an enum of all the available playback events","type":"text"}]},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/Accessing-waveform-data-article":{"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/Accessing-waveform-data-article","url":"\/documentation\/automixiq\/accessing-waveform-data-article","kind":"article","abstract":[],"type":"topic","title":"Accessing waveform data","role":"article"},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixIQStatusObserverDelegate":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"AutomixIQStatusObserverDelegate"}],"navigatorTitle":[{"kind":"identifier","text":"AutomixIQStatusObserverDelegate"}],"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQStatusObserverDelegate","url":"\/documentation\/automixiq\/automixiqstatusobserverdelegate","type":"topic","kind":"symbol","role":"symbol","abstract":[{"type":"text","text":"AutomixIQStatusObserverDelegate protocol defines the methods to be implemented with observing the status of AutomixIQ to reflect it on a UI."}],"title":"AutomixIQStatusObserverDelegate"},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ":{"role":"collection","title":"AutomixIQ","type":"topic","url":"\/documentation\/automixiq","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ","abstract":[{"text":"Enable smooth transitions between tracks for a seamlessly beat-matched experience within your iOS music application.","type":"text"}],"kind":"symbol"},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixIQStatus":{"type":"topic","url":"\/documentation\/automixiq\/automixiqstatus","title":"AutomixIQStatus","kind":"symbol","abstract":[{"type":"text","text":"AutomixIQStatus models the State of the AutomixIQ during playback."}],"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQStatus","role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"AutomixIQStatus"}],"navigatorTitle":[{"kind":"identifier","text":"AutomixIQStatus"}]}},"variantOverrides":[{"patch":[{"op":"replace","path":"\/identifier\/interfaceLanguage","value":"occ"},{"op":"add","path":"\/topicSections","value":null},{"op":"replace","path":"\/seeAlsoSections","value":[{"identifiers":["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQStatusObserverDelegate","doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixIQPlaybackEventType"],"generated":true,"anchor":"Updating-custom-players-UI","title":"Updating custom player’s UI"}]},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQPlaybackEventType\/title","value":"AutomixIQPlaybackEventType"},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQPlaybackEventType\/fragments","value":[{"kind":"identifier","text":"AutomixIQPlaybackEventType"}]},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQPlaybackEventType\/navigatorTitle","value":[{"kind":"identifier","text":"AutomixIQPlaybackEventType"}]},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQStatusObserverDelegate\/title","value":"AutomixIQStatusObserverDelegate"},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQStatusObserverDelegate\/fragments","value":[{"text":"AutomixIQStatusObserverDelegate","kind":"identifier"}]},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQStatusObserverDelegate\/navigatorTitle","value":[{"text":"AutomixIQStatusObserverDelegate","kind":"identifier"}]},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQStatus\/title","value":"AutomixIQStatus"},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQStatus\/fragments","value":[{"kind":"identifier","text":"AutomixIQStatus"}]},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixIQStatus\/navigatorTitle","value":[{"kind":"identifier","text":"AutomixIQStatus"}]}],"traits":[{"interfaceLanguage":"occ"}]}]}